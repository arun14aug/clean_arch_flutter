# clean_arch_flutter

A new Flutter project.

## Getting Started

This project is a starting point for a Flutter application.

A few resources to get you started if this is your first Flutter project:

- [Lab: Write your first Flutter app](https://docs.flutter.dev/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://docs.flutter.dev/cookbook)

For help getting started with Flutter development, view the
[online documentation](https://docs.flutter.dev/), which offers tutorials,
samples, guidance on mobile development, and a full API reference.

# Generating LCOV for Unit Test Coverage

This guide will walk you through the process of generating LCOV (Line Coverage) for unit test coverage in our Flutter projects. LCOV is a tool for graphical representation of the code coverage data generated by the `sh generated.sh` command.

## Prerequisites

- Flutter SDK installed on your machine.
- Your Flutter project should have unit tests written using the `flutter_test` framework.

## Steps

### 1. Add Test Coverage Support

Ensure your project's `pubspec.yaml` includes the following dependencies:

```yaml
dependencies:
  flutter:
    sdk: flutter
  bloc_test: ^9.1.3

dev_dependencies:
  flutter_test:
    sdk: flutter
  mockito: ^5.3.2
```

### 2. Run Tests with Coverage
Execute your unit tests with coverage by running the following command in your terminal `sh generated.sh`.
- generated.sh file contains the commands of LCOV line coverage execution:
```generated.sh
flutter test --coverage
lcov --remove coverage/lcov.info 'lib/utils/*' 'lib/common/*' 'lib/core/data/mapper/*' 'lib/core/domain/entities/*' 'lib/core/injector.dart' 'lib/network/base/*' 'lib/network/rest_constants.dart' 'lib/presenter/*' 'lib/provider/*' 'lib/network/entities/*' 'lib/network/client/*' 'lib/core/data/dto/*.g.dart' 'lib/core/domain/usecases/usecase_contracts.dart' 'lib/core/data/datasource/*' 'lib/main.dart' 'lib/controller/*' 'lib/core/dependency_injector.dart' 'lib/firebase_options.dart' -o coverage/new_lcov.info
genhtml coverage/new_lcov.info --output=coverage
open coverage/index.html
```

LCOV Report will look like below:
<img width="1436" alt="LCOV Report for Clean Arch" src="https://github.com/arun14aug/clean_arch_flutter/assets/6661995/8d974226-8398-492c-8c35-03c9cf1776e7">
